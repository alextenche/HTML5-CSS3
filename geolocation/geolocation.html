<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<a href="#" id="get_location">Get Location</a>
	<div id="map">
		<iframe id="google_map" width="425" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.co.uk?output=embed"></iframe>
	</div>
	<script type="text/javascript">

		var success = function(pos){
			var lat = pos.coords.latitude;
			var	long = pos.coords.longitude;
			var acc = pos.coords.accuracy;
			var coords = lat + ', ' + long;

			document.getElementById('google_map').setAttribute('src','https://maps.google.co.uk?/q='+coords+'&z=60&output=embed');
		}

		var failure = function(error){
			if(error.code === 1){
				alert('Unable to get location');
			}

		}


		document.getElementById('get_location').onclick = function(){
			navigator.geolocation.getCurrentPosition(success, failure);
			return false;
		}
	</script>
</body>
</html>